{% extends "generalTemplates/outline.html" %}
{% block body %}
    <script type="text/javascript">
    $(document).ready(function (e) {
        $('#champ').change(function () {
           var mult = parseInt($(this).val());
           $('.Open.Championship').each(function () {
               var newVal = mult * parseInt($(this).parent().find('td:last').text());
               $(this).text(newVal);
           });
        });
        $('#prelim').change(function () {
           var mult = parseInt($(this).val());
           $('.Preliminary.Championship').each(function () {
               var newVal = mult * parseInt($(this).parent().find('td:last').text());
               $(this).text(newVal);
           });
        });
        $('#set').change(function () {
           var mult = parseInt($(this).val());
           $('.Preliminary.Championship.Set').each(function () {
               var newVal = mult * parseInt($(this).parent().find('td:last').text());
               $(this).text(newVal);
           });
        });
        $('#grades').change(function () {
           var mult = parseInt($(this).val());
           $('.Grades').each(function () {
               var newVal = mult * parseInt($(this).parent().find('td:last').text());
               $(this).text(newVal);
           });
        });
    });
    </script>
    <body>
        <div class="sub-box">
            <div class="container-fluid">
                <div class="title">
                    <h1 class="display-3">Scoresheet Calculator</h1>
                    <h1 class="display-4">Total Required: {{ total }}</h1>
                </div>
            </div>
            <div class="container">
                <p style="font-size: 20px">Judges per Competition</p>
                <form>
                    <div class="text-center feis-box mx-auto sub-box d-flex p-2 flex-wrap bd-highlight align-items-center justify-content-center rounded mt-0" style="width: auto;">
                        <div class="form-group col-md-3 align-items-center justify-content-center">
                            <label for="champ">Open Championship</label>
                            <input class="form-control" type="text" id="champ" placeholder="Enter a Number">
                        </div>
                        <div class="form-group col-md-3 align-items-center justify-content-center">
                            <label for="prelim">Preliminary Championship</label>
                            <input class="form-control" type="text" id="prelim" placeholder="Enter a Number">
                        </div>
                        <div class="form-group col-md-3 align-items-center justify-content-center">
                            <label for="set">Prelim. Championship Set</label>
                            <input class="form-control" type="text" id="set" placeholder="Enter a Number">
                        </div>
                        <div class="form-group col-md-3 align-items-center justify-content-center">
                            <label for="grades">Grades</label>
                            <input class="form-control" type="text" id="grades" placeholder="Enter a Number">
                        </div>
                    </div>
                </form>
            </div>
            <div class="container">
                <table class="table table-striped table-bordered" style="font-size: 20px">
                    <thead>
                        <tr>
                            <th scope="col">Competition</th>
                            <th scope="col">Sheets Required</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for sheet in sheets %}
                            <tr>
                                <td>{{ sheet['name'] }}</td>
                                <td class="{{ sheet['level'] }}">{{ sheet['entries'] }}</td>
                                <td hidden>{{ sheet['entries'] }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </body>
{% endblock body %}